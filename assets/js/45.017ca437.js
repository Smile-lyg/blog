(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{729:function(s,e,a){"use strict";a.r(e);var t=a(3),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"集群中机器之间实现无缝通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群中机器之间实现无缝通信"}},[s._v("#")]),s._v(" 集群中机器之间实现无缝通信")]),s._v(" "),a("blockquote",[a("h2",{attrs:{id:"一、配置每台机器的主机名和-ip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、配置每台机器的主机名和-ip"}},[s._v("#")]),s._v(" 一、配置每台机器的主机名和 IP")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("给机器配置主机名，修改 "),a("strong",[s._v("/etc/hostname")]),s._v(" 文件，删除其他，输入名称 "),a("strong",[s._v("master")]),s._v(" 保存退出")])]),s._v(" "),a("li",[a("p",[s._v("修改 "),a("strong",[s._v("/etc/sysconfig/network")]),s._v(" 允许进行主机名的映射。输入两行")]),s._v(" "),a("ul",[a("li",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NETWORKING")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOSTNAME")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("修改 "),a("strong",[s._v("/etc/hosts")]),s._v(" 文件，设置某个 IP 与某个主机名对应")]),s._v(" "),a("ul",[a("li",[s._v("每台主机的"),a("strong",[s._v("hosts")]),s._v("文件内容一样")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".56.11 master\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".56.12 slaver1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".56.13 slaver2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("重启 "),a("strong",[s._v("reboot")]),s._v(" 使改动生效。")])]),s._v(" "),a("li",[a("p",[s._v("重复以上步骤设置 12 的")])]),s._v(" "),a("li",[a("p",[s._v("测试")]),s._v(" "),a("ul",[a("li",[s._v("在 11 上 #ping slaver1")]),s._v(" "),a("li",[s._v("在 12 上 #ping master")])])])]),s._v(" "),a("blockquote",[a("h2",{attrs:{id:"二、配置集群里面各台机器之间免密码的相互控制-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、配置集群里面各台机器之间免密码的相互控制-ssh"}},[s._v("#")]),s._v(" 二、配置集群里面各台机器之间免密码的相互控制 "),a("strong",[s._v("SSH")])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Linux 是一种高安全机制的操作系统，SSH 在进行远程控制时需要进行身份验证（输入密码），这种方式不适合云计算自动化。")])]),s._v(" "),a("li",[a("p",[s._v("利用 SSH 密钥验证方式，达到免密码登录")])]),s._v(" "),a("li",[a("p",[s._v("A SSH 免密码控制 B")]),s._v(" "),a("ul",[a("li",[s._v("在 A 上生成一对密钥")]),s._v(" "),a("li",[s._v("将 A 上的公钥 加到 B 的 Authorized_Key 里面")])])])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("在 master 上生成密钥，一路回车，保持默认")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssh-keygen -t rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("在 "),a("strong",[s._v("/root/.shh")]),s._v(" 目录下生成私钥 "),a("strong",[s._v("id_rsa")]),s._v("，公钥 "),a("strong",[s._v("id_rsa.pub")]),s._v(" 两个文件。")])])]),s._v(" "),a("li",[a("p",[s._v("将 master 的公钥发送到 slaver1 的 authorized_key 里面")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssh-copy-id slaver1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("#ssh slaver1 就能连接控制")]),s._v(" "),a("li",[s._v("#exit 退出控制")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);