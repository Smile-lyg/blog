(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{712:function(s,a,e){s.exports=e.p+"assets/img/curl.2b40acc9.jpg"},795:function(s,a,e){"use strict";e.r(a);var t=e(3),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("Command Line URL viewer")])]),s._v(" "),t("p",[t("img",{attrs:{src:e(712),alt:"curl.jpg"}})]),s._v(" "),t("h2",{attrs:{id:"简单使用方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单使用方法"}},[s._v("#")]),s._v(" 简单使用方法")]),s._v(" "),t("h2",{attrs:{id:"访问网站"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问网站"}},[s._v("#")]),s._v(" 访问网站")]),s._v(" "),t("blockquote",[t("p",[s._v("curl + 网址")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-A")]),s._v(" 参数指定客户端用户代理标头（"),t("code",[s._v("User-Agent")]),s._v("）。curl 默认用户代理字符串是 "),t("code",[s._v("curl/[version]")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -A "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.50"')]),s._v(" www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-H")]),s._v(" 参数添加或者修改标头")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User-Agent: php/1.0"')]),s._v(" www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("保存网页可以使用 "),t("code",[s._v("-o")]),s._v(" 参数，相当于使用 "),t("code",[s._v("wget")]),s._v(" 命令")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("文件名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-O")]),s._v(" 参数，将服务器响应保存成文件，并将 URL 的最后部分当做文件名")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -O example.com/foo/bar.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("保存成 "),t("code",[s._v("bar.html")]),s._v(" 文件")])]),s._v(" "),t("h2",{attrs:{id:"显示响应头信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示响应头信息"}},[s._v("#")]),s._v(" 显示响应头信息")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-i")]),s._v(" 参数可以显示 http response 的头信息，连同网页代码一起")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -i www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-I")]),s._v(" 参数，只显示 http response 头信息")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -I www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"显示通信过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示通信过程"}},[s._v("#")]),s._v(" 显示通信过程")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-v")]),s._v(" 参数 key 显示一次 http 通信的整个过程，包括端口连接和 http request 头信息")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -v www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("如果觉得上面的信息还不够，则可以使用 "),t("code",[s._v("--trace")]),s._v(" 查看更详细的通信过程")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --trace output.txt www.baidu.com\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# or")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --trace-ascii output.txx www.baidu.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("运行后请打开 txt 文件查看")])]),s._v(" "),t("h2",{attrs:{id:"http-动词"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-动词"}},[s._v("#")]),s._v(" HTTP 动词")]),s._v(" "),t("ul",[t("li",[s._v("curl 默认的 HTTP 动词是 GET，使用 "),t("code",[s._v("-X")]),s._v(" 参数指定")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X DELETE www.example.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"发送表单信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发送表单信息"}},[s._v("#")]),s._v(" 发送表单信息")]),s._v(" "),t("h3",{attrs:{id:"get"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[s._v("#")]),s._v(" GET")]),s._v(" "),t("ul",[t("li",[s._v("直接拼接")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" example.com/form?uname"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("psw")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("456")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-G")]),s._v(" 参数用来构造 URL 查询字符串")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -G -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'q=lala'")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'count=20'")]),s._v(" example.com/search\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("以上命令会发出一个 GET 请求，实际请求的 URL 为："),t("code",[s._v("http://example.com/search?q=lala&count=20")]),s._v("，如果省略 "),t("code",[s._v("-G")]),s._v(" 则会发出一个 POST 请求，如果数据需要 URL 编码，可以结合 "),t("code",[s._v("--data-urlencode")]),s._v(" 参数")])]),s._v(" "),t("h3",{attrs:{id:"post"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[s._v("#")]),s._v(" POST")]),s._v(" "),t("ul",[t("li",[s._v("需要用 "),t("code",[s._v("-X")]),s._v(" 参数指定方法为 POST，使用 "),t("code",[s._v("--data")]),s._v(" ("),t("code",[s._v("-d")]),s._v(") 携带参数")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X POST --data "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uname=abc&psw=123"')]),s._v(" example.com/form\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("使用 "),t("code",[s._v("-d")]),s._v(" 参数后，HTTP 请求会自动加上标头 "),t("code",[s._v("Content-type: application/x-www-form-urlencoded")]),s._v("，并且会自动将请求转为 POST 方法，因此可以省略 "),t("code",[s._v("-X POST")]),s._v("。\n以上命令可改写成 "),t("code",[s._v('curl -d "uanme=abc&psw=123" example.com/form')])])]),s._v(" "),t("ul",[t("li",[s._v("发送 JSON 数据，结合 "),t("code",[s._v("-H")]),s._v(" 设置请求头为："),t("code",[s._v("Content-Type: application/json")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{username:"abc", password: "123"}\'')]),s._v(" expample.com/login\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("--data-urlencode")]),s._v(" 参数将发送的数据进行 URL 编码，同 "),t("code",[s._v("-d")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --data-urlencode "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"comment=hello world"')]),s._v(" example.com/login\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("这里发送的数据里面有一个空格，所以需要进行 url 编码")])]),s._v(" "),t("h2",{attrs:{id:"上传文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传文件"}},[s._v("#")]),s._v(" 上传文件")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-F")]),s._v(" 参数用来向服务器上传二进制文件")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file=@photo.png"')]),s._v(" example.com/profile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("上面的命令会给 HTTP 请求加上标头："),t("code",[s._v("Content-type: multipart/form-data")]),s._v("，然后将 "),t("code",[s._v("photo.png")]),s._v(" 作为 "),t("code",[s._v("file")]),s._v(" 字段上传")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-F")]),s._v(" 可以指定 MIME 类型，默认为 "),t("code",[s._v("application/octet-stream")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file=@photo.png;type=image/png"')]),s._v(" expamle.com/profile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);